{{- define "header" }}
    <style type="text/css">
        .header {
            background: #3771E0;
            color: #ffffff;
            box-shadow: 0 3px 4px 0 rgba(0,0,0,.2), 0 3px 3px -2px rgba(0,0,0,.14), 0 1px 8px 0 rgba(0,0,0,.12);
        }
        .header-nav {
            list-style-type: none;
            margin: 0;
            padding: 0;
            font-size: 1.0rem;

            display: flex;
      }
        .header-link {
            color: inherit;
            display: inline-block;
            text-decoration: none;
            padding: 10px;
        }
        .header-link:hover {
            opacity: 0.8;
        }




        .page-title {
            padding: 20px;
            border-bottom: 1px solid #d3d3d3;
        }

        .page-title  > h1 {
            display: inline-block;
            margin:0;
            font-weight: 300;
            font-size: 1.5rem;
            color: #585858;
        }

        .page-title > a {
            margin-left: 100px;
            color: rgb(59,120,231);
            font-weight: 500;
            text-transform: uppercase;
            text-decoration: none;
            padding: 10px;
            border-radius: .25rem;
            font-size: 1rem;
            letter-spacing: -.05em;
        }

        .page-title > a:hover {
            background-color: rgba(158,158,158,0.2);
        }
        .page-title-icon--position {
            vertical-align: bottom;
            width: 20px;
        }
        .page-title-icon--color {
            fill: rgb(59,120,231);
        }



        .stats {
            padding: 20px;
            display: flex;
            flex-wrap: wrap;
        }
        .stats-card {
            margin-right: 80px;
            margin-bottom: 20px;
        }
        .stats-title {
            font-weight: 300;
            font-size: 1.5rem;
            color: #585858;
        }
        .stats-table {
            color: #585858;
        }
        .stats-row {
            padding: 10px;
        }
        .stats-row:nth-child(odd) {
           background: #FAFAFA;
        }

        .stats-row span:nth-child(even) {
            text-transform: capitalize;
        }

        .stats-row span:nth-child(odd) {
            display: inline-block;
            font-weight: 500;
            color: black;
        }

        .table-small {
            min-width: 280px;
        }
        .table-small-first {
            width: 130px;
        }

        .table-large {
            min-width: 340px;
        }
        .table-large-first {
            width: 240px;
        }

        .parent-state-bool {
            left: 25px;
            position: relative
        }
        .state-bool {
            position: absolute;
            top: -1px;
            left: -30px;
            width: 20px;
       }
        .state-success  {
            fill: #00C752;
        }
        .state-failed {
            fill: red;
        }

    </style>

    <div class="header">
        <ul class="header-nav">
            <li><a class="header-link" href="{{.Path.Dashboard}}">Dashboard</a></li>
            <li><a class="header-link" href="{{.Path.ListTests}}">Test history</a></li>
            <li><a class="header-link" href="{{.Path.ListTestSuites}}">Test suites</a></li>
        </ul>
    </div>
{{- end }}

{{- define "content" }}

    <div class="page-title">
        <h1>Dashboard</h1>
        <a href="{{.Path.Dashboard}}">
            <svg xmlns="http://www.w3.org/2000/svg"
                 class="page-title-icon--position"
                 viewBox="0 0 24 24">
                <path class="page-title-icon--color"
                      d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z">
                </path>
                <path d="M0 0h24v24H0z"
                      fill="none"> </path>
            </svg>
            refresh
        </a>
    </div>
    <div class="stats">

        <div class="stats-card">
            <h2 class="stats-title">
                Latest test suite
            </h2>
            <div class="stats-table table-small">
                <div class="stats-row">
                    <span class="table-small-first">State</span>
                    <span class="parent-state-bool">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             class="state-bool"
                             viewBox="0 0 24 24">
                            <path d="M0 0h24v24H0z" fill="none"></path>
                            <path class="state-success"
                                  d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path>
                        </svg>
                        {{.Stats.LatestDoneTestSuiteState}}
                    </span>
                </div>
                <div class="stats-row">
                    <span class="table-small-first">Test time</span>
                    <span>
                        {{.Stats.LatestDoneTestSuiteRunTime}}
                    </span>
                </div>
            </div>
        </div>
        <div class="stats-card">
           <h2 class="stats-title">Latest test:all</h2>
            <div class="stats-table table-small">
                <div class="stats-row">
                    <span class="table-small-first">State</span>
                    <span class="parent-state-bool">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             class="state-bool"
                             viewBox="0 0 24 24">
                            <path d="M0 0h24v24H0z" fill="none"></path>
                            <path class="state-failed"
                                  d="M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"></path>
                        </svg>
                        {{.Stats.LatestDoneFullTestSuiteState}}
                    </span>
                </div>
                <div class="stats-row">
                    <span class="table-small-first">Test time</span>
                    <span>
                        {{.Stats.LatestDoneFullTestSuiteRunTime}}
                    </span>
                </div>
            </div>
        </div>
        <div class="stats-card">
            <h2 class="stats-title">Stats</h2>
            <div class="stats-table table-large">
                <div class="stats-row">
                    <span class="table-large-first">test:all success rate</span>
                    <span>{{.Stats.FullTestSuiteSuccessRate}}%</span>
                </div>
                <div class="stats-row">
                    <span class="table-large-first">Total success rate</span>
                    <span>{{.Stats.TestSuiteSuccessRate}}%</span>
                </div>
                <div class="stats-row">
                    <span class="table-large-first">Average test time</span>
                    <span>{{.Stats.AverageTestSuiteRunTime}}</span>
                </div>
                <div class="stats-row">
                    <span class="table-large-first">Slowest test time</span>
                    <span>{{.Stats.SlowestTestSuiteRunTime}}</span>
                </div>
                <div class="stats-row">
                    <span class="table-large-first">Slowest test suite</span>
                    <span>{{.Stats.SlowestTestSuiteName}}</span>
                </div>
                <div class="stats-row">
                    <span class="table-large-first">Average queue time</span>
                    <span>{{.Stats.AverageTestSuiteQueueTime}}</span>
                </div>

                <div class="stats-row">
                    <span class="table-large-first">Total test runs</span>
                    <span>{{.Stats.TestSuiteRunCounter}}</span>
                </div>
                <div class="stats-row">
                    <span class="table-large-first">test:all runs</span>
                    <span>{{.Stats.FullTestSuiteRunCounter}}</span>
                </div>
            </div>
        </div>
    </div>
{{- end -}}

